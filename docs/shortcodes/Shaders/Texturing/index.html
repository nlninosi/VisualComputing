<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Texturing # Texturing es la manera de cómo se sitúa una textura (Una imagen) sobre un objeto al momento de proyectarse sobre un objeto. De este modo, un objeto obtiene una textura superficial similar a la de una superficie bidimensional. Es el equivalente digital de empapelar, pintar o cubrir cualquier superficie y por lo general es aplicada a objetos 3D.
Uv space # Los shaders que vamos a utilizar un el mapeado UV, donde se asigna una coordenada para cada vértice del objeto que más adelante se va a texturizar."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Texturing # Texturing es la manera de cómo se sitúa una textura (Una imagen) sobre un objeto al momento de proyectarse sobre un objeto. De este modo, un objeto obtiene una textura superficial similar a la de una superficie bidimensional. Es el equivalente digital de empapelar, pintar o cubrir cualquier superficie y por lo general es aplicada a objetos 3D.
Uv space # Los shaders que vamos a utilizar un el mapeado UV, donde se asigna una coordenada para cada vértice del objeto que más adelante se va a texturizar."><meta property="og:type" content="article"><meta property="og:url" content="https://nlninosi.github.io/showcase/docs/shortcodes/Shaders/Texturing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-11-28T22:00:40-05:00"><title>Texturing | Presentación</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.f88753a6357ab66210042fb309e1c9fd2609e2c58d699edfee787dd12f00ea79.js integrity="sha256-+IdTpjV6tmIQBC+zCeHJ/SYJ4sWNaZ7f7nh90S8A6nk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Presentación</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/3D/>3 D</a></li><li><a href=/showcase/docs/shortcodes/Flower3d/>Flower3d</a></li><li><a href=/showcase/docs/shortcodes/Histogram/>Histogram</a></li><li><a href=/showcase/docs/shortcodes/illusions/>Illusions</a></li><li><a href=/showcase/docs/shortcodes/Masking/>Masking</a></li><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle checked>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a href=/showcase/docs/shortcodes/Shaders/>Shaders</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/coloring/>Coloring</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/Shaders/procedural_texturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/Shaders/SpatialCoherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Texturing/ class=active>Texturing</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Texturing</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#texturing>Texturing</a><ul><li><a href=#uv-space>Uv space</a></li><li><a href=#texture-sampling>Texture Sampling</a></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=texturing>Texturing
<a class=anchor href=#texturing>#</a></h1><p>Texturing es la manera de cómo se sitúa una textura (Una imagen) sobre un objeto al momento de proyectarse sobre un objeto. De este modo, un objeto obtiene una textura superficial similar a la de una superficie bidimensional. Es el equivalente digital de empapelar, pintar o cubrir cualquier superficie y por lo general es aplicada a objetos 3D.</p><h2 id=uv-space>Uv space
<a class=anchor href=#uv-space>#</a></h2><p>Los shaders que vamos a utilizar un el mapeado UV, donde se asigna una coordenada para cada vértice del objeto que más adelante se va a texturizar. En este caso el espacio donde se va a proyectar la textura esta normalizado por lo que en este ejmplo las figueras se mapean de 0 a 1. Como es un mapeo 1 a 1 entonces al cambiar las coordenadas del espacico a texutrizar tambien cambia el shader, en el ejemplo de abajo &ldquo;giramos&rdquo; la imagen de la izquierda al redefinir las coordenadas del objeto a texturizar.</p><iframe id=Texturing_3 style=width:325px;height:325px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/shaders/Texturing_3.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<iframe id=Texturing_1 style=width:325px;height:325px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/shaders/Texturing_1.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>Aqui podemos observar las coodernadas definidas para el primer y segundo ejemplo respectivamente.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>beginShape</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>( <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>( <span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>endShape</span>()
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>beginShape</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>( <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>( <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,  <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>,  <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>endShape</span>()
</span></span></code></pre></div></div></label></div><p>El shader aplicado arriba colorea cada pixel de acuerdo a su posicion. Esto se puede ver aqui.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>texcoords2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>texcoords2</span>.<span style=color:#a6e22e>xy</span>, <span style=color:#ae81ff>0.0</span>, <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><p>El color que aplica el shader en gl_FragColor esta en RGBA, o Red, Green, Blue y Alfa (Opacidad). Podemos cambiar de tal manera que cambiemos de color facilmente cambiando el vector. Como podemos ver aqui.</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>texcoords2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#ae81ff>0.0</span> ,<span style=color:#a6e22e>texcoords2</span>.<span style=color:#a6e22e>xy</span>,<span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><iframe id=Texturing_2 style=width:325px;height:325px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/shaders/Texturing_2.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=texture-sampling>Texture Sampling
<a class=anchor href=#texture-sampling>#</a></h2><p>El muestreo de texturas es el proceso de lectura de texturas a través de la GPU. El hardware gráfico incorpora un conjunto de unidades de textura que son capaces de leer los píxeles de la textura directamente o muestrear estas texturas utilizando diferentes algoritmos.Nosotros en este ejemplo trataremos de implementar los filtros de iluminacion HSL, HSV y promedio de luz para una imagen.</p><p>La implementacion de estas herrmientas consistio en multiplicar los valores RGB del texel con otras constantes teniendo en cuenta que la formula para pasar de RGB a HSL es:</p><p><img src=/showcase/assets/HSL.PNG alt=IMAGEN></p><p>Entonces podemos definir la formula en el shader asi:</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> ( <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> ( <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.1</span>;
</span></span></code></pre></div></div></label></div><p>Luego viendo que la formula para pasar de RGB a HSV es:</p><p><img src=/showcase/assets/HSV.PNG alt=IMAGEN></p><p>Nuestra implementacion fue esta:</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>if</span> ( <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>  }
</span></span></code></pre></div></div></label></div><p>Donde solamente calculamos el componente &ldquo;value&rdquo; que corresponde al máximo entre los valores del RGB. La implementacion final es esta:</p><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>baseimg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lumaShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>greyimg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Original&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#34;/showcase/sketches/shaders/Texturing_4.frag&#34;</span>,{<span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords</span>});
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>baseimg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/assets/texturing1.jpg&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;Original&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;HSL&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;HSV&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>mySelectEvent</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mySelectEvent</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;Original&#39;</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>reset</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;HSL&#39;</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>HSLL</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mode</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;HSV&#39;</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>HSVV</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>mode</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noLoop</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>lumaShader</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;greyscale&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;val&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lum&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>,<span style=color:#a6e22e>baseimg</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>baseimg</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>mode</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>reset</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;greyscale&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;val&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lum&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>,<span style=color:#a6e22e>baseimg</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>HSVV</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;greyscale&#39;</span>,<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;val&#39;</span>,<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lum&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>,<span style=color:#a6e22e>baseimg</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>HSLL</span>(){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;greyscale&#39;</span>,<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lum&#39;</span>,<span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;val&#39;</span>,<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>,<span style=color:#a6e22e>baseimg</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>250</span>,<span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></label></div><div class=book-expand><label><div class="book-expand-head flex justify-between"><span>Expand</span>
<span>↕</span></div><input type=checkbox class=hidden><div class="book-expand-content markdown-inner"><pre tabindex=0><code>  precision mediump float;

// uniforms are defined and sent by the sketch
uniform sampler2D texture;
uniform bool lum;
uniform bool val;
uniform bool greyscale;

// interpolated texcoord (same name and type as in vertex shader)
varying vec2 texcoords2;

// returns luma of given texel
float luma(vec3 texel) {
  if(lum){
    float max = 0.0;
    float min = 0.0;
    if ( texel.r &gt; texel.g &amp;&amp; texel.r &gt; texel.b){
      max = texel.r;
    } else if (texel.g &gt; texel.r &amp;&amp; texel.g &gt; texel.b){
      max = texel.g;
    } else if (texel.b &gt; texel.r &amp;&amp; texel.b &gt; texel.g) {
      max = texel.b;
    }
    if ( texel.r &lt; texel.g &amp;&amp; texel.r &lt; texel.b){
      min = texel.r;
    } else if (texel.g &lt; texel.r &amp;&amp; texel.g &lt; texel.b){
      min = texel.g;
    } else if (texel.b &lt; texel.r &amp;&amp; texel.b &lt; texel.g) {
      min = texel.b;
    }
    return max * 0.5 + min * 0.5 + 0.1;
  }
  if(val){
    if ( texel.r &gt; texel.g &amp;&amp; texel.r &gt; texel.b){
      return texel.r * 1.0 + 0.1;
    } else if (texel.g &gt; texel.r &amp;&amp; texel.g &gt; texel.b){
      return texel.g * 1.0 + 0.1;
    } else if (texel.b &gt; texel.r &amp;&amp; texel.b &gt; texel.g) {
      return texel.b * 1.0 + 0.1;
    }
  }
}

void main() {
  // texture2D(texture, texcoords2) samples texture at texcoords2 
  // and returns the normalized texel color
  vec4 texel = texture2D(texture, texcoords2);
  gl_FragColor = greyscale ? vec4((vec3(luma(texel.rgb))), 1.0) : texel;
}
</code></pre></div></label></div><iframe id=Texturing_4 style=width:500px;height:500px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/objetos/p5.quadrille.js/p5.quadrille.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            <script src=/showcase/sketches/shaders/Texturing_4.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h2><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><p><a href=https://es.wikipedia.org/wiki/Mapeo_de_texturas>https://es.wikipedia.org/wiki/Mapeo_de_texturas</a>
<a href=https://es.wikipedia.org/wiki/Filtrado_de_texturas>https://es.wikipedia.org/wiki/Filtrado_de_texturas</a>
<a href="https://help.disguise.one/en/Content/3D-Workflow/UV-Mapping/How-does-disguise-sample-UV-maps.html#:~:text=Normalising%20UV%20maps,the%20U%20and%20V%20axes">https://help.disguise.one/en/Content/3D-Workflow/UV-Mapping/How-does-disguise-sample-UV-maps.html#:~:text=Normalising%20UV%20maps,the%20U%20and%20V%20axes</a>.
<a href="https://vfxdoc.readthedocs.io/en/latest/textures/sampling/#:~:text=Texture%20sampling%20is%20the%20process,these%20textures%20using%20different%20algorithms">https://vfxdoc.readthedocs.io/en/latest/textures/sampling/#:~:text=Texture%20sampling%20is%20the%20process,these%20textures%20using%20different%20algorithms</a>.
<a href=https://es.wikipedia.org/wiki/Modelo_de_color_HSV>https://es.wikipedia.org/wiki/Modelo_de_color_HSV</a>
<a href=https://es.wikipedia.org/wiki/Modelo_de_color_HSL>https://es.wikipedia.org/wiki/Modelo_de_color_HSL</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/166ff1d91b81c650d4b3a3947ba3e4036e2ec399 title='Last modified by nlninosi | November 29, 2022' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 29, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#texturing>Texturing</a><ul><li><a href=#uv-space>Uv space</a></li><li><a href=#texture-sampling>Texture Sampling</a></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>